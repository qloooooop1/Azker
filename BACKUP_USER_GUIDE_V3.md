# ุฏููู ูุธุงู ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุนุงุฏุฉ ุงููุญุณูู

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ูุณุฎ ุงุญุชูุงุทู ูุงุณุชุนุงุฏุฉ ุดุงูู ููุชุทูุฑ ูุจูุช ุงูุฃุฐูุงุฑุ ูููุฑ:
- โ ูุนูููุงุช ููุตูุฉ (metadata) ูุน ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ
- ๐ ุงูุชุญูู ูู ุณูุงูุฉ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู checksums
- ๐ ุงูุชูุงูู ุงููุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ (v1.0, v2.0, v3.0)
- ๐ ูุนุงููุฉ ุชูุตูููุฉ ูุจู ุงูุงุณุชุนุงุฏุฉ
- ๐จ ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณููุฉ ูุน ุฅุดุนุงุฑุงุช toast ูุดุฑูุท ุชูุฏู ุชูุงุนูู
- ๐ฑ๏ธ ุฏุนู ุงูุณุญุจ ูุงูุฅููุงุช ูููููุงุช

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. Metadata ุงููุญุณูู

ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุชุญุชูู ุงูุขู ุนูู:
- **ุชุงุฑูุฎ ุงูุฅูุดุงุก**: ููุช ุฅูุดุงุก ุงููุณุฎุฉ ุจุฏูุฉ
- **ุฅุตุฏุงุฑ ุงูุชุทุจูู**: ุงูุฅุตุฏุงุฑ ุงููุณุชุฎุฏู ูุฅูุดุงุก ุงููุณุฎุฉ
- **ุฅุตุฏุงุฑ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ**: 3.0.0
- **ุงููุตู**: ูุตู ุงุฎุชูุงุฑู ูุถููู ุงููุณุชุฎุฏู
- **Checksum (SHA-256)**: ููุชุญูู ูู ุณูุงูุฉ ุงูุจูุงูุงุช
- **ุงูุฅุญุตุงุฆูุงุช**: ุนุฏุฏ ุงููุฌููุนุงุชุ ุงูุฃุฐูุงุฑุ ูุงููุฆุงุช
- **ูุนูููุงุช ุงููุธุงู**: ุฅุตุฏุงุฑ Node.js ูุงูููุตุฉ

### 2. ุงูุชุญูู ูู ุงูุณูุงูุฉ

- **Checksum ุงูุชููุงุฆู**: ูุชู ุญุณุงุจ checksum ููู ูุณุฎุฉ ุงุญุชูุงุทูุฉ
- **ุงูุชุญูู ุนูุฏ ุงูุงุณุชุนุงุฏุฉ**: ูุชู ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูุจู ุงูุงุณุชุนุงุฏุฉ
- **ุชุญุฐูุฑุงุช ูุงุถุญุฉ**: ูู ุญุงูุฉ ุงูุชุดุงู ุชุนุฏูู ุนูู ุงูููู

### 3. ุงููุนุงููุฉ ูุจู ุงูุงุณุชุนุงุฏุฉ

ูุจู ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉุ ููููู ุฑุคูุฉ:
- ุงุณู ุงูููู ูุญุฌูู
- ุชุงุฑูุฎ ุงูุฅูุดุงุก
- ุงููุตู (ุฅู ูุฌุฏ)
- ุฅุตุฏุงุฑ ุงููุณุฎุฉ ูุงูุชุทุจูู
- ุญุงูุฉ Checksum
- ุนุฏุฏ ุงููุฌููุนุงุช ูุงูุฃุฐูุงุฑ ูุงููุฆุงุช

### 4. ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุญุณููุฉ

#### ุฅุดุนุงุฑุงุช Toast
- ุฅุดุนุงุฑุงุช ููููุฉ ุจุฏูุงู ูู ุงูููุงูุฐ ุงูููุจุซูุฉ ุงููุฒุนุฌุฉ
- ุฃููุงุน ูุฎุชููุฉ: ูุฌุงุญุ ุฎุทุฃุ ุชุญุฐูุฑุ ูุนูููุงุช
- ุชุฎุชูู ุชููุงุฆูุงู ุจุนุฏ 5 ุซูุงูู

#### ุงูุณุญุจ ูุงูุฅููุงุช
- ููุทูุฉ ุณุญุจ ูุฅููุงุช ุจุตุฑูุฉ
- ุฏุนู ูุงูู ูุณุญุจ ุงููููุงุช ูู ุณุทุญ ุงูููุชุจ

#### ุดุฑูุท ุงูุชูุฏู ุงูุชูุงุนูู
- 4 ูุฑุงุญู ูุงุถุญุฉ: ุงุฎุชูุงุฑุ ุชุญููุ ุงุณุชุนุงุฏุฉุ ุงูุชูู
- ูุณุจุฉ ูุฆููุฉ ุฏูููุฉ
- ุฑุณุงุฆู ุญุงูุฉ ุชูุตูููุฉ

## ุฏููู ุงูุงุณุชุฎุฏุงู

### ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ

1. ุงูุชูู ุฅูู ูุณู "ุงูุฅุนุฏุงุฏุงุช" ูู ููุญุฉ ุงูุชุญูู
2. ูู ูุณู "ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุนุงุฏุฉ ุงููุญุณูู":
   - (ุงุฎุชูุงุฑู) ุฃุฏุฎู ูุตูุงู ูููุณุฎุฉ ูุซู "ูุจู ุงูุชุญุฏูุซ ุงููุจูุฑ"
   - ุงุถุบุท ุนูู "ุฅูุดุงุก ูุชุญููู ูุณุฎุฉ ุงุญุชูุงุทูุฉ"
3. ุณูุชู ุชูุฒูู ููู JSON ูุญุชูู ุนูู ุฌููุน ุจูุงูุงุชู

**ุงุณู ุงูููู**: `azkar-backup-YYYY-MM-DDTHH-MM-SS.json`

**ูุญุชูู ุงูููู**:
```json
{
  "version": "3.0.0",
  "timestamp": "2024-01-01T12:00:00.000Z",
  "data": {
    "groups": [...],
    "adkar": [...],
    "categories": [...]
  },
  "metadata": {
    "createdAt": "2024-01-01T12:00:00.000Z",
    "appVersion": "3.0.0",
    "backupVersion": "3.0.0",
    "description": "ูุจู ุงูุชุญุฏูุซ ุงููุจูุฑ",
    "checksum": "a1b2c3d4...",
    "statistics": {
      "groups": 5,
      "adkar": 120,
      "categories": 8,
      "totalSize": 45678,
      "formattedSize": "44.61 KB"
    },
    "system": {
      "nodeVersion": "v18.0.0",
      "platform": "linux"
    }
  }
}
```

### ุงุณุชุนุงุฏุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ

#### ุงูุทุฑููุฉ 1: ุงูุณุญุจ ูุงูุฅููุงุช
1. ุงุณุญุจ ููู JSON ูุฃููุชู ูู ุงูููุทูุฉ ุงููุฎุตุตุฉ
2. ุณุชุธูุฑ ูุนุงููุฉ ุชูุตูููุฉ ูููุณุฎุฉ
3. ุฑุงุฌุน ุงููุนูููุงุช ูุชุฃูุฏ ูู ุตุญุชูุง
4. ุงุถุบุท "ุชุฃููุฏ ุงูุงุณุชุนุงุฏุฉ"
5. ุชุงุจุน ุดุฑูุท ุงูุชูุฏู ุญุชู ุงูุงูุชูุงุก

#### ุงูุทุฑููุฉ 2: ุงุฎุชูุงุฑ ุงูููู
1. ุงุถุบุท ุนูู ููุทูุฉ ุงูุฑูุน ุฃู ุงุฎุชุฑ "ุงุฎุชูุงุฑ ููู"
2. ุงุฎุชุฑ ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ JSON
3. ุณุชุธูุฑ ูุนุงููุฉ ุชูุตูููุฉ
4. ุงุถุบุท "ุชุฃููุฏ ุงูุงุณุชุนุงุฏุฉ"

**ููุงุญุธุงุช ูููุฉ**:
- โ๏ธ ุงูุงุณุชุนุงุฏุฉ ุณุชุณุชุจุฏู ุฌููุน ุงูุจูุงูุงุช ุงูุญุงููุฉ
- ุณููุทูุจ ููู ุชุฃููุฏ ุงูุนูููุฉ
- ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงูููู: 10MB
- ูุฏุนู ุงููุธุงู ุงููููุงุช ูู ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ (v1.0, v2.0)

## ุงูุฑุณุงุฆู ูุงูุฅุดุนุงุฑุงุช

### ุฑุณุงุฆู ุงููุฌุงุญ
- โ "ุชู ุฅูุดุงุก ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุจูุฌุงุญ"
- โ "ุชูุช ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุจูุฌุงุญ"
- โ "ุชูุช ูุนุงููุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ"

### ุฑุณุงุฆู ุงูุฎุทุฃ ูุญููููุง

| ุงูุฎุทุฃ | ุงูุณุจุจ | ุงูุญู |
|------|------|------|
| "ูุฌุจ ุฃู ูููู ุงูููู ุจุตูุบุฉ JSON" | ุงูุชุฏุงุฏ ุงูููู ุบูุฑ ุตุญูุญ | ุชุฃูุฏ ูู ุฃู ุงูููู ููุชูู ุจู `.json` |
| "ุญุฌู ุงูููู ูุจูุฑ ุฌุฏุงู" | ุงูููู ุฃูุจุฑ ูู 10MB | ุงุณุชุฎุฏู ููู ุฃุตุบุฑ ุฃู ุงุชุตู ุจุงููุทูุฑ |
| "ูุดู ุงูุชุญูู ูู checksum" | ุงูููู ูุนุฏูู ุฃู ุชุงูู | ุงุณุชุฎุฏู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุฃุตููุฉ |
| "ุงูููู ูุญุชูู ุนูู JSON ุบูุฑ ุตุญูุญ" | ุงูููู ุชุงูู | ุญุงูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุฃุฎุฑู |

## ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API)

### 1. ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ
```http
GET /api/backup?description=ูุตู ุงุฎุชูุงุฑู
Authorization: Bearer {token}
```

**ุงูุงุณุชุฌุงุจุฉ**: ููู JSON ููุชูุฒูู

### 2. ูุนุงููุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ
```http
POST /api/backup/preview
Authorization: Bearer {token}
Content-Type: multipart/form-data

backupFile: {file}
```

**ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "success": true,
  "metadata": {...},
  "detectedVersion": "3.0.0",
  "checksumStatus": "ุตุงูุญ โ",
  "fileSize": 45678,
  "formattedFileSize": "44.61 KB",
  "fileName": "azkar-backup-2024-01-01.json"
}
```

### 3. ุงุณุชุนุงุฏุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ
```http
POST /api/restore
Authorization: Bearer {token}
Content-Type: multipart/form-data

backupFile: {file}
```

**ุงูุงุณุชุฌุงุจุฉ**:
```json
{
  "success": true,
  "message": "ุชู ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุจูุฌุงุญ",
  "restored": {
    "groups": 5,
    "adkar": 120,
    "categories": 8
  },
  "warnings": []
}
```

## ุฃูุถู ุงูููุงุฑุณุงุช

### ูููุณุชุฎุฏููู
1. **ุงุญุชูุธ ุจูุณุฎ ูุชุนุฏุฏุฉ**: ูุง ุชุนุชูุฏ ุนูู ูุณุฎุฉ ูุงุญุฏุฉ ููุท
2. **ุฃุถู ูุตูุงู**: ุงุณุชุฎุฏู ูุตูุงู ูุงุถุญุงู ูุซู "ูุจู ุญุฐู ุงููุฌููุนุงุช ุงููุฏููุฉ"
3. **ุงุญูุธ ุฎุงุฑุฌ ุงูุฎุงุฏู**: ุงุญุชูุธ ุจูุณุฎุฉ ุนูู ุฌูุงุฒู ุงููุญูู ุฃู ุณุญุงุจุฉ
4. **ุงุฎุชุจุฑ ุงูุงุณุชุนุงุฏุฉ**: ุฌุฑูุจ ุงุณุชุนุงุฏุฉ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุจูุฆุฉ ุชุฌุฑูุจูุฉ ุฃููุงู

### ูููุทูุฑูู
1. **ุงุณุชุฎุฏู metadata**: ุงุณุชูุฏ ูู ุงูุจูุงูุงุช ุงููุตููุฉ ูู ุงูุชุญูููุงุช
2. **ุชุญูู ูู checksum**: ุฏุงุฆูุงู ุชุญูู ูู ุณูุงูุฉ ุงูุจูุงูุงุช
3. **ุฑุงุฌุน ุงูุณุฌูุงุช**: ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู ุจุนุฏ ูู ุนูููุฉ
4. **ุงุญุชูุธ ุจูุณุฎ ูุฏููุฉ**: ูุง ุชุญุฐู ุงููุณุฎ ุงููุฏููุฉ ููุฑุงู

## ุชูุณููุงุช ุงููููุงุช ุงููุฏุนููุฉ

### ุฃููุงุน ุงููููุงุช ุงูููุจููุฉ ููุงุณุชุนุงุฏุฉ

ูุฏุนู ุงููุธุงู ุชุญููู ูููุงุช ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุจุงูุชูุณููุงุช ุงูุชุงููุฉ:

#### 1. ุงูุชุฏุงุฏ ุงูููู (File Extension)
- โ **`.json`** ููุท - ูุฌุจ ุฃู ุชูุชูู ุฌููุน ูููุงุช ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุจุงูุชุฏุงุฏ `.json`
- โ **ุบูุฑ ููุจูู**: `.txt`, `.xml`, `.pdf`, ุฃู ุฃู ุงูุชุฏุงุฏ ุขุฎุฑ

#### 2. ุฃููุงุน MIME ุงููุฏุนููุฉ (MIME Types)
ููุจู ุงููุธุงู ุงูุฃููุงุน ุงูุชุงููุฉ ูู MIME types:
- โ `application/json` - ุงูููุน ุงูููุงุณู ููููุงุช JSON
- โ `application/octet-stream` - ูููููุงุช ุงูุซูุงุฆูุฉ ุงูุนุงูุฉ
- โ `text/plain` - ูููุตูุต ุงูุนุงุฏูุฉ

**ููุงุญุธุฉ**: ุจุนุถ ุงููุชุตูุญุงุช ุฃู ุฃูุธูุฉ ุงูุชุดุบูู ูุฏ ุชุฑุณู ููุน MIME ูุฎุชูู ุนูุฏ ุฑูุน ูููุงุช JSON. ุงููุธุงู ูุฏุนู ุงูุฃููุงุน ุงูุดุงุฆุนุฉ ูุถูุงู ุงูุชูุงูููุฉ.

#### 3. ุงูุชุฑููุฒ (Encoding)
- โ **UTF-8** - ุงูุชุฑููุฒ ุงูููุถู ูุงูููุตู ุจู
- โ ูุฏุนู ุงููุธุงู ุฅุฒุงูุฉ BOM (Byte Order Mark) ุชููุงุฆูุงู
- โ ูุชูุงูู ูุน ุงููุตูุต ุงูุนุฑุจูุฉ ูุงูุญุฑูู ุงูุฎุงุตุฉ

#### 4. ุงููููุฏ ุนูู ุญุฌู ุงูููู
- **ุงูุญุฏ ุงูุฃูุตู**: 10 ููุฌุงุจุงูุช (10MB)
- **ุงูููุตู ุจู**: ุฃูู ูู 5 ููุฌุงุจุงูุช ูุฃุฏุงุก ุฃูุถู
- ุณูุชู ุฑูุถ ุงููููุงุช ุงูุชู ุชุชุฌุงูุฒ ุงูุญุฏ ุงูุฃูุตู ูุน ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ

### ุฑุณุงุฆู ุงูุฎุทุฃ ุงููุชุนููุฉ ุจููุน ุงูููู

| ุฑุณุงูุฉ ุงูุฎุทุฃ | ุงูุณุจุจ | ุงูุญู |
|------------|-------|------|
| "ููุน ุงูููู ุบูุฑ ูุณููุญ: application/pdf" | ุฑูุน ููู PDF ุจุฏูุงู ูู JSON | ุงุณุชุฎุฏู ููู JSON ููุท (`.json`) |
| "ููุน ุงูููู ุบูุฑ ุตุญูุญ" | ุงูุชุฏุงุฏ ุงูููู ููุณ `.json` | ุฃุนุฏ ุชุณููุฉ ุงูููู ููููู ุจุงูุชุฏุงุฏ `.json` |
| "ุญุฌู ุงูููู ูุจูุฑ ุฌุฏุงู. ุงูุญุฏ ุงูุฃูุตู ูู 10MB" | ุญุฌู ุงูููู ูุชุฌุงูุฒ 10MB | ูุณูู ุงูุจูุงูุงุช ุฃู ุงุณุชุฎุฏู ููู ุฃุตุบุฑ |
| "ุงูููู ูุงุฑุบ" | ุงูููู ูุง ูุญุชูู ุนูู ุจูุงูุงุช | ุงุณุชุฎุฏู ููู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุตุงูุญ |
| "ูุดู ูุฑุงุกุฉ ูุญุชูู ุงูููู" | ูุดููุฉ ูู ุงูุชุฑููุฒ ุฃู ุงูููู ุชุงูู | ุชุฃูุฏ ูู ุฃู ุงูููู ุจุชุฑููุฒ UTF-8 ูุบูุฑ ุชุงูู |

### ุณุฌูุงุช ุงูุชุตุญูุญ (Debug Logs)

ุนูุฏ ุฑูุน ููู ูุณุฎุฉ ุงุญุชูุงุทูุฉุ ูุณุฌู ุงููุธุงู ุงููุนูููุงุช ุงูุชุงููุฉ ููุชุตุญูุญ:
- ๐ค ุงุณู ุงูููู ุงูุฃุตูู
- ๐ ููุน MIME
- ๐ ุญุฌู ุงูููู ุจุงูุจุงูุชุงุช
- ๐ค ุงูุชุฑููุฒ ุงููุณุชุฎุฏู

ูุฐู ุงููุนูููุงุช ุชุธูุฑ ูู ุณุฌูุงุช ุงูุฎุงุฏู (Server Logs) ููููู ุงุณุชุฎุฏุงููุง ูุงุณุชูุดุงู ุงูุฃุฎุทุงุก.

### ุฃูุซูุฉ ุนูู ุงููููุงุช ุงูุตุงูุญุฉ

#### โ ููุจูู
```
backup-2024-01-15.json (application/json)
azkar-backup.json (application/octet-stream)
restore.JSON (text/plain)
ูุณุฎุฉ-ุงุญุชูุงุทูุฉ.json (UTF-8 encoding)
```

#### โ ูุฑููุถ
```
backup.txt (wrong extension)
data.xml (wrong format)
backup.pdf (wrong file type)
(file without extension)
backup.json.txt (double extension)
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดููุฉ: ูุง ุชุธูุฑ ูุนุงููุฉ ุงูููู
**ุงูุญู**:
1. ุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
2. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู
3. ุฑุงุฌุน console ุงููุชุตูุญ ููุฃุฎุทุงุก

### ูุดููุฉ: ูุดู ุงูุงุณุชุนุงุฏุฉ ุจุฏูู ุฑุณุงูุฉ ูุงุถุญุฉ
**ุงูุญู**:
1. ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู (`/var/log` ุฃู console)
2. ุชุฃูุฏ ูู ุตุญุฉ ููู JSON
3. ุฌุฑูุจ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุฃุฎุฑู

### ูุดููุฉ: checksum ุบูุฑ ุตุงูุญ
**ุงูุญู**:
- ูุฐุง ูุนูู ุฃู ุงูููู ุชู ุชุนุฏููู ุจุนุฏ ุงูุฅูุดุงุก
- ุฅุฐุง ููุช ูุงุซูุงู ูู ุงููููุ ููููู ุงูุงุณุชูุฑุงุฑ (ุณูุธูุฑ ุชุญุฐูุฑ ููุท)
- ุงูุฃูุถู: ุงุณุชุฎุฏู ูุณุฎุฉ ุฃุตููุฉ ุบูุฑ ูุนุฏููุฉ

## ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

### ููุฏ ุงูุชุทููุฑ
- [ ] ุถุบุท ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงููุจูุฑุฉ
- [ ] ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ
- [ ] ุฌุฏููุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู
- [ ] ุฑูุน ุชููุงุฆู ููุณุญุงุจุฉ (Google Drive, Dropbox)
- [ ] ุงุณุชุนุงุฏุฉ ุฌุฒุฆูุฉ (ูุฌููุนุงุช ูุญุฏุฏุฉ ููุท)

## ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุฑุงุฌุน ูุฐุง ุงูุฏููู
2. ุชุญูู ูู ุณุฌูุงุช ุงููุธุงู
3. ุฑุงุฌุน ุงูุงุฎุชุจุงุฑุงุช ูู `test-backup-metadata.js`
4. ุงูุชุญ issue ูู GitHub

---

**ุงูุฅุตุฏุงุฑ**: 3.0.0  
**ุขุฎุฑ ุชุญุฏูุซ**: 2024  
**ุงููุทูุฑ**: ูุฑูู Azker Bot
