# ๐ ุฏููู ุงุณุชุนุงุฏุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
# Backup Restoration Guide

## ๐ ูุธุฑุฉ ุนุงูุฉ / Overview

ูุฐุง ุงูุฏููู ููุถุญ ููููุฉ ุงุณุชุฎุฏุงู ูุธุงู ุงุณุชุนุงุฏุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงููุญุณูู ูู ุจูุช Azkerุ ุจูุง ูู ุฐูู ูุชุทูุจุงุช ุชูุณูู ุงููููุงุช ูููุงุนุฏ ุงูุชุญูู ููุตุงุฆุญ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก.

This guide explains how to use the enhanced backup restoration system in the Azker bot, including file format requirements, validation rules, and troubleshooting tips.

---

## ๐ง ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ / New Features

### 1. ุงูุชุญูู ุงูุดุงูู ูู ุงููููุงุช / Comprehensive File Validation
- ุงูุชุญูู ูู ุตุญุฉ ุจููุฉ JSON ูุจู ูุญุงููุฉ ุงูุงุณุชุนุงุฏุฉ
- ุงูุชุญูู ูู ุฌููุน ุงูุญููู ุงููุทููุจุฉ
- ุงูุชุญูู ูู ุฃููุงุน ุงูุจูุงูุงุช
- ุงูุชุญูู ูู ุตุญุฉ ูุตูููุงุช JSON

### 2. ุฑุณุงุฆู ุฎุทุฃ ูุตููุฉ / Descriptive Error Messages
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ
- ุงูุชุฑุงุญุงุช ูุญู ุงููุดุงูู
- ุชูุงุตูู ุฏูููุฉ ุนู ููุงู ุงูุฎุทุฃ

### 3. ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ / Backward Compatibility
- ุฏุนู ุฃุณูุงุก ุงูุญููู ุงููุฏููุฉ (`type` โ `content_type`)
- ุฏุนู ุฃุณูุงุก ุงูุญููู ุงููุฏููุฉ (`days_of_week` โ `schedule_days`)
- ุชุญููู ุชููุงุฆู ููุจูุงูุงุช

---

## ๐ ุชูุณูู ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ / Backup File Format

### ุงูุจููุฉ ุงูุฃุณุงุณูุฉ / Basic Structure

```json
{
  "timestamp": "2024-01-01T00:00:00.000Z",
  "version": "1.0",
  "data": {
    "categories": [...],
    "adkar": [...],
    "groups": [...]
  }
}
```

### ุงูุญููู ุงูุฑุฆูุณูุฉ / Main Fields

#### 1. Categories (ุงููุฆุงุช)

```json
{
  "id": 1,
  "name": "ุฃุฐูุงุฑ ุงูุตุจุงุญ",          // ูุทููุจ / Required
  "description": "ุฃุฐูุงุฑ ุงูุตุจุงุญ ูุงููุณุงุก",
  "icon": "โ๏ธ",
  "color": "#FFD700",
  "created_at": "2024-01-01T00:00:00Z"
}
```

**ุงูุญููู ุงููุทููุจุฉ:**
- `name` - ุงุณู ุงููุฆุฉ (ูุฌุจ ุฃู ูููู ููุฌูุฏุงู)

#### 2. Adkar (ุงูุฃุฐูุงุฑ)

```json
{
  "id": 1,
  "category_id": 1,                // ูุทููุจ / Required
  "title": "ุฏุนุงุก ุงูุตุจุงุญ",
  "content": "ุฃุตุจุญูุง ูุฃุตุจุญ ุงูููู ููู...",
  "content_type": "text",          // text, audio, image, video, pdf
  "file_path": "/path/to/file",
  "file_url": "https://...",
  "youtube_url": "https://youtube.com/...",
  "schedule_type": "daily",
  "schedule_days": "[0,1,2,3,4,5,6]",    // ูุตูููุฉ JSON / JSON array
  "schedule_dates": "[]",                 // ูุตูููุฉ JSON / JSON array
  "schedule_months": "[]",                // ูุตูููุฉ JSON / JSON array
  "schedule_time": "08:00",              // HH:MM format
  "is_active": 1,
  "priority": 1,
  "last_sent": "2024-01-01T00:00:00Z",
  "created_at": "2024-01-01T00:00:00Z"
}
```

**ุงูุญููู ุงููุทููุจุฉ:**
- `category_id` - ูุนุฑู ุงููุฆุฉ (ุฑูู)

**ุงูููู ุงูุตุญูุญุฉ ูู content_type:**
- `text` - ูุต
- `audio` - ุตูุช
- `image` - ุตูุฑุฉ
- `video` - ููุฏูู
- `pdf` - ููู PDF

**ุชูุณูู schedule_time:**
- ูุฌุจ ุฃู ูููู ุจุตูุบุฉ `HH:MM` (ูุซุงู: `08:30`, `12:00`, `23:59`)
- ุงูุณุงุนุงุช: 00-23
- ุงูุฏูุงุฆู: 00-59

**ุชูุณูู ุงููุตูููุงุช:**
- `schedule_days`: ูุตูููุฉ ุฃุฑูุงู ูู 0 ุฅูู 6 (ุงูุฃุญุฏ=0ุ ุงูุงุซููู=1ุ ุฅูุฎ)
  - ูุซุงู: `"[0,1,2,3,4,5,6]"` (ูู ููู)
  - ูุซุงู: `"[0,6]"` (ุนุทูุฉ ููุงูุฉ ุงูุฃุณุจูุน)
- `schedule_dates`: ูุตูููุฉ ุฃุฑูุงู ูู 1 ุฅูู 31
  - ูุซุงู: `"[1,15]"` (ููู 1 ู 15 ูู ูู ุดูุฑ)
- `schedule_months`: ูุตูููุฉ ุฃุฑูุงู ูู 1 ุฅูู 12
  - ูุซุงู: `"[1,6,12]"` (ููุงูุฑ ูููููู ูุฏูุณูุจุฑ)

#### 3. Groups (ุงููุฌููุนุงุช)

```json
{
  "id": 1,
  "chat_id": -1001234567890,       // ูุทููุจ / Required
  "title": "ูุฌููุนุฉ ุงูุฃุฐูุงุฑ",       // ูุทููุจ / Required
  "admin_id": 123456789,
  "bot_enabled": 1,
  "is_active": 1,
  "is_protected": 0,
  "settings": "{\"key\": \"value\"}",  // JSON string
  "created_at": "2024-01-01T00:00:00Z"
}
```

**ุงูุญููู ุงููุทููุจุฉ:**
- `chat_id` - ูุนุฑู ุงููุญุงุฏุซุฉ (ุฑูู)
- `title` - ุนููุงู ุงููุฌููุนุฉ (ูุต)

---

## โ ููุงุนุฏ ุงูุชุญูู / Validation Rules

### 1. ุงูุชุญูู ูู ุงูุจููุฉ / Structure Validation

โ **ุณููุดู ุฅุฐุง:**
- ุงูููู ููุณ JSON ุตุญูุญ
- ุงูููู ูุง ููุชูู ุจู `.json`
- ุญูู `data` ููููุฏ
- ุงูุญููู ุงููุทููุจุฉ ุบูุฑ ููุฌูุฏุฉ

โ **ุณููุฌุญ ุฅุฐุง:**
- JSON ุตุญูุญ
- ุฌููุน ุงูุญููู ุงููุทููุจุฉ ููุฌูุฏุฉ
- ุฃููุงุน ุงูุจูุงูุงุช ุตุญูุญุฉ

### 2. ุงูุชุญูู ูู ุงูุฃุฐูุงุฑ / Adkar Validation

| ุงูุญูู | ุงููุงุนุฏุฉ | ูุซุงู ุตุญูุญ | ูุซุงู ุฎุงุทุฆ |
|-------|---------|------------|-----------|
| `category_id` | ูุทููุจุ ุฑูู | `1` | `null`, ุบูุฑ ููุฌูุฏ |
| `content_type` | text/audio/image/video/pdf | `"text"` | `"unknown"` |
| `schedule_days` | ูุตูููุฉ JSON | `"[0,1,2]"` | `"{0,1,2}"` |
| `schedule_time` | HH:MM | `"08:30"` | `"8:30"`, `"25:99"` |

### 3. ุงูุชุญูู ูู ุงููุฌููุนุงุช / Groups Validation

| ุงูุญูู | ุงููุงุนุฏุฉ | ูุซุงู ุตุญูุญ | ูุซุงู ุฎุงุทุฆ |
|-------|---------|------------|-----------|
| `chat_id` | ูุทููุจุ ุฑูู | `-1001234` | `null`, `""` |
| `title` | ูุทููุจุ ูุต | `"ุงุณู ุงููุฌููุนุฉ"` | `null`, `""` |
| `settings` | JSON string (ุงุฎุชูุงุฑู) | `"{}"` | `"{invalid}"` |

---

## ๐ ุงูุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ / Backward Compatibility

ุงููุธุงู ูุฏุนู ุชููุงุฆูุงู ุฃุณูุงุก ุงูุญููู ุงููุฏููุฉ:

| ุงููุฏูู / Old | ุงูุฌุฏูุฏ / New |
|-------------|-------------|
| `type` | `content_type` |
| `days_of_week` | `schedule_days` |

**ูุซุงู:**
```json
{
  "type": "audio",              // ุณูุชู ุชุญูููู ุฅูู content_type
  "days_of_week": "[0,1,2,3,4,5,6]"  // ุณูุชู ุชุญูููู ุฅูู schedule_days
}
```

---

## ๐จ ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุดุงุฆุนุฉ / Common Error Messages

### 1. "ุงูููู ูุง ูุญุชูู ุนูู JSON ุตุญูุญ"

**ุงูุณุจุจ:** ููู JSON ูุนุทูุจ ุฃู ุบูุฑ ุตุญูุญ

**ุงูุญู:**
1. ุงูุชุญ ุงูููู ูู ูุญุฑุฑ ูุตูุต
2. ุชุญูู ูู ูุฌูุฏ ุฌููุน ุงูุฃููุงุณ ูุงูููุงุตู
3. ุงุณุชุฎุฏู ุฃุฏุงุฉ ุงูุชุญูู ูู JSON ูุซู jsonlint.com

### 2. "ุชูุณูู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุบูุฑ ุตุญูุญ: ุญูู data ููููุฏ"

**ุงูุณุจุจ:** ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ููููู ุบูุฑ ุตุญูุญุฉ

**ุงูุญู:**
ุชุฃูุฏ ูู ุฃู ุงูููู ูุญุชูู ุนูู:
```json
{
  "data": {
    ...
  }
}
```

### 3. "ุงูุฐูุฑ #X: ูุนุฑู ุงููุฆุฉ (category_id) ูุทููุจ"

**ุงูุณุจุจ:** ุฐูุฑ ุจุฏูู ูุนุฑู ูุฆุฉ

**ุงูุญู:**
ุฃุถู `category_id` ููู ุฐูุฑ:
```json
{
  "category_id": 1,
  ...
}
```

### 4. "ุงูุฐูุฑ #X: ุงูุญูู 'schedule_days' ูุญุชูู ุนูู JSON ุบูุฑ ุตุญูุญ"

**ุงูุณุจุจ:** ูุตูููุฉ JSON ูุนุทูุจุฉ

**ุงูุญู:**
ุชุฃูุฏ ูู ุฃู ุงููููุฉ ูุตูููุฉ JSON ุตุญูุญุฉ:
```json
"schedule_days": "[0,1,2,3,4,5,6]"  // โ ุตุญูุญ
"schedule_days": "{0,1,2,3,4,5,6}"  // โ ุฎุงุทุฆ
```

### 5. "ููุช ุงูุฌุฏููุฉ ุบูุฑ ุตุญูุญ. ูุฌุจ ุฃู ูููู ุจุตูุบุฉ HH:MM"

**ุงูุณุจุจ:** ุชูุณูู ุงูููุช ุบูุฑ ุตุญูุญ

**ุงูุญู:**
ุงุณุชุฎุฏู ุตูุบุฉ HH:MM:
```json
"schedule_time": "08:30"  // โ ุตุญูุญ
"schedule_time": "8:30"   // โ ุฎุงุทุฆ (ูุฌุจ ุฑูููู ููุณุงุนุฉ)
"schedule_time": "25:99"  // โ ุฎุงุทุฆ (ููู ุบูุฑ ุตุญูุญุฉ)
```

---

## ๐ ุฃูุซูุฉ ุนูููุฉ / Practical Examples

### ูุซุงู 1: ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุจุณูุทุฉ

```json
{
  "timestamp": "2024-01-01T12:00:00.000Z",
  "version": "1.0",
  "data": {
    "categories": [
      {
        "id": 1,
        "name": "ุฃุฐูุงุฑ ุงูุตุจุงุญ",
        "description": "ุฃุฐูุงุฑ ุงูุตุจุงุญ ูุงููุณุงุก"
      }
    ],
    "adkar": [
      {
        "id": 1,
        "category_id": 1,
        "title": "ุฏุนุงุก ุงูุตุจุงุญ",
        "content": "ุฃุตุจุญูุง ูุฃุตุจุญ ุงูููู ููู",
        "content_type": "text",
        "schedule_type": "daily",
        "schedule_days": "[0,1,2,3,4,5,6]",
        "schedule_dates": "[]",
        "schedule_months": "[]",
        "schedule_time": "08:00",
        "is_active": 1,
        "priority": 1
      }
    ],
    "groups": [
      {
        "id": 1,
        "chat_id": -1001234567890,
        "title": "ูุฌููุนุฉ ุงูุฃุฐูุงุฑ",
        "admin_id": 123456789,
        "bot_enabled": 1,
        "is_active": 1
      }
    ]
  }
}
```

### ูุซุงู 2: ุฐูุฑ ุจุตูุช ูุฌุฏููุฉ ุฃุณุจูุนูุฉ

```json
{
  "id": 2,
  "category_id": 1,
  "title": "ุณูุฑุฉ ุงูููู",
  "content_type": "audio",
  "file_url": "https://example.com/audio.mp3",
  "schedule_type": "weekly",
  "schedule_days": "[5]",  // ุงูุฌูุนุฉ ููุท
  "schedule_dates": "[]",
  "schedule_months": "[]",
  "schedule_time": "12:00",
  "is_active": 1,
  "priority": 1
}
```

### ูุซุงู 3: ุฐูุฑ ุจููุฏูู YouTube

```json
{
  "id": 3,
  "category_id": 1,
  "title": "ุฏุฑุณ ูููุฏ",
  "content_type": "video",
  "youtube_url": "https://www.youtube.com/watch?v=VIDEO_ID",
  "schedule_type": "daily",
  "schedule_days": "[0,1,2,3,4,5,6]",
  "schedule_dates": "[]",
  "schedule_months": "[]",
  "schedule_time": "18:00",
  "is_active": 1,
  "priority": 1
}
```

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง / Troubleshooting

### ุงููุดููุฉ: ูุง ูุชู ูุจูู ุงูููู

**ุงูุญููู ุงููุญุชููุฉ:**
1. โ ุชุญูู ูู ุงูุชุฏุงุฏ ุงูููู (.json)
2. โ ุชุญูู ูู ุญุฌู ุงูููู (<10MB)
3. โ ุชุญูู ูู ุตุญุฉ JSON
4. โ ุชุญูู ูู ุงูุชุฑููุฒ (UTF-8)

### ุงููุดููุฉ: ุจุนุถ ุงูุจูุงูุงุช ูู ูุชู ุงุณุชุนุงุฏุชูุง

**ุงูุญููู ุงููุญุชููุฉ:**
1. ุฑุงุฌุน ุฑุณุงุฆู ุงูุฎุทุฃ ูู ุงูุงุณุชุฌุงุจุฉ
2. ุชุญูู ูู ุงูุญููู ุงููุทููุจุฉ ููู ุนูุตุฑ
3. ุชุญูู ูู ุชูุณูู ุงููุตูููุงุช
4. ุชุญูู ูู ููู ุงูุญููู

### ุงููุดููุฉ: ุฎุทุฃ ูู ูุตูููุงุช ุงูุฌุฏููุฉ

**ุงูุญููู ุงููุญุชููุฉ:**
```json
// โ ุฎุงุทุฆ
"schedule_days": [0,1,2,3,4,5,6]  // ูุตูููุฉ ุจุฏูู ุนูุงูุงุช ุงูุชุจุงุณ
"schedule_days": "{0,1,2,3,4,5,6}"  // ูุงุฆู ุจุฏูุงู ูู ูุตูููุฉ

// โ ุตุญูุญ
"schedule_days": "[0,1,2,3,4,5,6]"  // ูุต ูุญุชูู ุนูู ูุตูููุฉ JSON
```

---

## ๐ ุงูุงุณุชุฌุงุจุฉ ุนูุฏ ุงูุงุณุชุนุงุฏุฉ / Restoration Response

### ุงุณุชุฌุงุจุฉ ูุงุฌุญุฉ

```json
{
  "success": true,
  "message": "ุชู ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุจูุฌุงุญ",
  "restored": {
    "groups": 5,
    "adkar": 20,
    "categories": 3
  },
  "warnings": []
}
```

### ุงุณุชุฌุงุจุฉ ูุน ุฃุฎุทุงุก

```json
{
  "success": false,
  "message": "ุชูุช ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ูุน ุจุนุถ ุงูุฃุฎุทุงุก",
  "restored": {
    "groups": 3,
    "adkar": 15,
    "categories": 3
  },
  "errors": [
    "ูุดู ุงุณุชุนุงุฏุฉ ุงูุฐูุฑ #5 (ุฏุนุงุก): ุงูุญูู 'schedule_days' ูุญุชูู ุนูู JSON ุบูุฑ ุตุญูุญ"
  ],
  "warnings": [],
  "suggestion": "ุชู ุงุณุชุนุงุฏุฉ ูุนุธู ุงูุจูุงูุงุชุ ูููู ูุดูุช ุจุนุถ ุงูุนูุงุตุฑ. ูุฑุฌู ูุฑุงุฌุนุฉ ุงูุฃุฎุทุงุก ุฃุนูุงู."
}
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ / Testing

ูุงุฎุชุจุงุฑ ูุธุงู ุงูุชุญูู ูู ุตุญุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ:

```bash
node test-backup-validation.js
```

ูุฌุจ ุฃู ุชุฑู:
```
โ ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ูุฌุญุช! ูุธุงู ุงูุชุญูู ูู ุตุญุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ูุนูู ุจุดูู ุตุญูุญ.
```

---

## ๐ ุงูุฏุนู / Support

ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. ๐ ุฑุงุฌุน ูุฐุง ุงูุฏููู
2. ๐งช ูู ุจุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
3. ๐ ุชุญูู ูู ุณุฌูุงุช ุงูุฎุงุฏู
4. ๐ ุชุญูู ูู ุตุญุฉ ููู JSON

---

## ๐ฏ ุงูุฎูุงุตุฉ / Summary

### โ ูุง ุงูุฐู ุชู ุชุญุณููู

1. **ุงูุชุญูู ุงูุดุงูู:** ูุญุต ูุงูู ูุฌููุน ุงูุจูุงูุงุช ูุจู ุงูุงุณุชุนุงุฏุฉ
2. **ุฑุณุงุฆู ูุงุถุญุฉ:** ุฃุฎุทุงุก ูุตููุฉ ูุน ุงูุชุฑุงุญุงุช ููุญู
3. **ุงูุชูุงูู:** ุฏุนู ูุงูู ูููุณุฎ ุงููุฏููุฉ
4. **ุงูููุซูููุฉ:** ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก
5. **ุงูุงุฎุชุจุงุฑ:** 26 ุงุฎุชุจุงุฑ ุดุงูู

### ๐ ุฃูุถู ุงูููุงุฑุณุงุช

1. โ ูู ุจุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ููุชุธูุฉ
2. โ ุงุญุชูุธ ุจูุณุฎ ูุชุนุฏุฏุฉ
3. โ ุงุฎุชุจุฑ ุงูุงุณุชุนุงุฏุฉ ูุจู ุงูุญุงุฌุฉ ุฅูููุง
4. โ ุฑุงุฌุน ุฑุณุงุฆู ุงูุฎุทุฃ ุจุนูุงูุฉ
5. โ ุชุญูู ูู ุงูุจูุงูุงุช ุจุนุฏ ุงูุงุณุชุนุงุฏุฉ

---

*ุชู ุงูุชุญุฏูุซ: ูุจุฑุงูุฑ 2026*
*Documentation Version: 1.0*
